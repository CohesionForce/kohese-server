import { BehaviorSubject } from 'rxjs'

import { ItemRepository, TreeConfigType } from './item-repository.service';
import { KoheseDataModel } from '../../../../common/src/KoheseModel.interface';
import { FormatDefinitionType } from '../../../../common/src/FormatDefinition.interface';
import { TreeConfiguration } from '../../../../common/src/tree-configuration';
import { MockItemRepository } from '../../../mocks/services/MockItemRepository';

describe('ItemRepository', () => {
  let itemRepository: ItemRepository = new ItemRepository(jasmine.createSpyObj(
    ['']), jasmine.createSpyObj({
      getCurrentUserSubject: new BehaviorSubject('')
    }), jasmine.createSpyObj(['']), jasmine.createSpyObj(['']), jasmine.
    createSpyObj(['']), jasmine.createSpyObj(['getComponentId', 'getEventId',
    'log']), jasmine.createSpyObj(['']));
  
  beforeEach(() => {
    new MockItemRepository();
    itemRepository.setTreeConfig('Unstaged', TreeConfigType.DEFAULT);
  });

  it('retrieves the Markdown representation of a given object based on the ' +
    'FormatDefinition indicated by the given FormatDefinitionType', () => {
    let treeConfiguration: TreeConfiguration = TreeConfiguration.
      getWorkingTree();
    let dataModel: KoheseDataModel = treeConfiguration.getProxyFor(
      'KoheseModel').item;
    expect(itemRepository.getMarkdownRepresentation(dataModel, undefined,
      dataModel, treeConfiguration.getProxyFor('view-kohesemodel').item,
      FormatDefinitionType.DEFAULT, 0, true)).toBe('<div style="font-size: xxx-large;">[KoheseModel](http://localhost:9876/explore;id=KoheseModel)\n\n</div>\n\n**ID:**\n\nKoheseModel\n\n**Description:**\n\n\n\n**Tags:**\n\n\n\n**Parent:**\n\nItem\n\n**Created By:**\n\n\n\n**Created On:**\n\n\n\n**Modified By:**\n\n\n\n**Modified On:**\n\n\n\n**Children:**\n\n\n\n**Base:**\n\nItem\n\n**Is Metamodel:**\n\ntrue\n\n**Is Internal:**\n\n\n\n**ID Injection:**\n\nfalse\n\n**Invert Item Order:**\n\nfalse\n\n**Properties:**\n\n\n\n**Validations:**\n\n\n\n**Relations:**\n\n\n\n**ACLs:**\n\n\n\n**Methods:**\n\n\n\n**Class Local Types:**\n\n\n\n**Class Parent Types:**\n\n* Item\n\n**Class Properties:**\n\n\n\n**Property Order:**\n\n* kind\n* status\n* id\n* name\n* tags\n* description\n* parentId\n* createdBy\n* createdOn\n* modifiedBy\n* modifiedOn\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* itemIds\n* children\n* base\n* isMetaModel\n* isInternal\n* idInjection\n* invertItemOrder\n* properties\n* validations\n* relations\n* acls\n* methods\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n* localTypes\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**Property Storage Order:**\n\n* kind\n* status\n* id\n* name\n* tags\n* description\n* parentId\n* createdBy\n* createdOn\n* modifiedBy\n* modifiedOn\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* itemIds\n* children\n* base\n* isMetaModel\n* isInternal\n* idInjection\n* invertItemOrder\n* properties\n* validations\n* relations\n* acls\n* methods\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n* localTypes\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**Required Properties:**\n\n* name\n* base\n* idInjection\n* properties\n* validations\n* relations\n* acls\n* methods\n* localTypes\n\n**Derived Properties:**\n\n* kind\n* status\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* children\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n\n**Calculated Properties:**\n\n\n\n**State Properties:**\n\n\n\n**Relation Properties:**\n\n* children\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**ID Properties:**\n\n* id\n\n**Local Types:**\n\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n<table><tr><th>Multivalued Global Type Attribute Table</th><th>Multivalued Local Type Attribute Table</th></tr><tr style="vertical-align: top;"><td><table><tr><th>globalTypeAttribute</th><th>multivaluedGlobalTypeAttribute</th><th>localTypeAttribute</th><th>multivaluedLocalTypeAttribute</th><th>enumerationAttribute</th><th>multivaluedEnumerationAttribute</th></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr></table>\n\n</td><td><table><tr><th>globalTypeAttribute</th><th>multivaluedGlobalTypeAttribute</th><th>localTypeAttribute</th><th>multivaluedLocalTypeAttribute</th><th>enumerationAttribute</th><th>multivaluedEnumerationAttribute</th></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr></table>\n\n</td></tr>\n</table>\n\n');
    expect(itemRepository.getMarkdownRepresentation(dataModel, undefined,
      dataModel, treeConfiguration.getProxyFor('view-kohesemodel').item,
      FormatDefinitionType.DEFAULT, 0, false)).toBe('<div style="font-size: xxx-large;">KoheseModel\n\n</div>\n\n**ID:**\n\nKoheseModel\n\n**Description:**\n\n\n\n**Tags:**\n\n\n\n**Parent:**\n\nItem\n\n**Created By:**\n\n\n\n**Created On:**\n\n\n\n**Modified By:**\n\n\n\n**Modified On:**\n\n\n\n**Children:**\n\n\n\n**Base:**\n\nItem\n\n**Is Metamodel:**\n\ntrue\n\n**Is Internal:**\n\n\n\n**ID Injection:**\n\nfalse\n\n**Invert Item Order:**\n\nfalse\n\n**Properties:**\n\n\n\n**Validations:**\n\n\n\n**Relations:**\n\n\n\n**ACLs:**\n\n\n\n**Methods:**\n\n\n\n**Class Local Types:**\n\n\n\n**Class Parent Types:**\n\n* Item\n\n**Class Properties:**\n\n\n\n**Property Order:**\n\n* kind\n* status\n* id\n* name\n* tags\n* description\n* parentId\n* createdBy\n* createdOn\n* modifiedBy\n* modifiedOn\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* itemIds\n* children\n* base\n* isMetaModel\n* isInternal\n* idInjection\n* invertItemOrder\n* properties\n* validations\n* relations\n* acls\n* methods\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n* localTypes\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**Property Storage Order:**\n\n* kind\n* status\n* id\n* name\n* tags\n* description\n* parentId\n* createdBy\n* createdOn\n* modifiedBy\n* modifiedOn\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* itemIds\n* children\n* base\n* isMetaModel\n* isInternal\n* idInjection\n* invertItemOrder\n* properties\n* validations\n* relations\n* acls\n* methods\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n* localTypes\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**Required Properties:**\n\n* name\n* base\n* idInjection\n* properties\n* validations\n* relations\n* acls\n* methods\n* localTypes\n\n**Derived Properties:**\n\n* kind\n* status\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* children\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n\n**Calculated Properties:**\n\n\n\n**State Properties:**\n\n\n\n**Relation Properties:**\n\n* children\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**ID Properties:**\n\n* id\n\n**Local Types:**\n\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n<table><tr><th>Multivalued Global Type Attribute Table</th><th>Multivalued Local Type Attribute Table</th></tr><tr style="vertical-align: top;"><td><table><tr><th>globalTypeAttribute</th><th>multivaluedGlobalTypeAttribute</th><th>localTypeAttribute</th><th>multivaluedLocalTypeAttribute</th><th>enumerationAttribute</th><th>multivaluedEnumerationAttribute</th></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr></table>\n\n</td><td><table><tr><th>globalTypeAttribute</th><th>multivaluedGlobalTypeAttribute</th><th>localTypeAttribute</th><th>multivaluedLocalTypeAttribute</th><th>enumerationAttribute</th><th>multivaluedEnumerationAttribute</th></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr></table>\n\n</td></tr>\n</table>\n\n');
    expect(itemRepository.getMarkdownRepresentation(dataModel, undefined,
      dataModel, treeConfiguration.getProxyFor('view-kohesemodel').item,
      FormatDefinitionType.DEFAULT, 1, true)).toBe('# [KoheseModel](http://localhost:9876/explore;id=KoheseModel)\n\n**ID:**\n\nKoheseModel\n\n**Description:**\n\n\n\n**Tags:**\n\n\n\n**Parent:**\n\nItem\n\n**Created By:**\n\n\n\n**Created On:**\n\n\n\n**Modified By:**\n\n\n\n**Modified On:**\n\n\n\n**Children:**\n\n\n\n**Base:**\n\nItem\n\n**Is Metamodel:**\n\ntrue\n\n**Is Internal:**\n\n\n\n**ID Injection:**\n\nfalse\n\n**Invert Item Order:**\n\nfalse\n\n**Properties:**\n\n\n\n**Validations:**\n\n\n\n**Relations:**\n\n\n\n**ACLs:**\n\n\n\n**Methods:**\n\n\n\n**Class Local Types:**\n\n\n\n**Class Parent Types:**\n\n* Item\n\n**Class Properties:**\n\n\n\n**Property Order:**\n\n* kind\n* status\n* id\n* name\n* tags\n* description\n* parentId\n* createdBy\n* createdOn\n* modifiedBy\n* modifiedOn\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* itemIds\n* children\n* base\n* isMetaModel\n* isInternal\n* idInjection\n* invertItemOrder\n* properties\n* validations\n* relations\n* acls\n* methods\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n* localTypes\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**Property Storage Order:**\n\n* kind\n* status\n* id\n* name\n* tags\n* description\n* parentId\n* createdBy\n* createdOn\n* modifiedBy\n* modifiedOn\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* itemIds\n* children\n* base\n* isMetaModel\n* isInternal\n* idInjection\n* invertItemOrder\n* properties\n* validations\n* relations\n* acls\n* methods\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n* localTypes\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**Required Properties:**\n\n* name\n* base\n* idInjection\n* properties\n* validations\n* relations\n* acls\n* methods\n* localTypes\n\n**Derived Properties:**\n\n* kind\n* status\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* children\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n\n**Calculated Properties:**\n\n\n\n**State Properties:**\n\n\n\n**Relation Properties:**\n\n* children\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**ID Properties:**\n\n* id\n\n**Local Types:**\n\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n<table><tr><th>Multivalued Global Type Attribute Table</th><th>Multivalued Local Type Attribute Table</th></tr><tr style="vertical-align: top;"><td><table><tr><th>globalTypeAttribute</th><th>multivaluedGlobalTypeAttribute</th><th>localTypeAttribute</th><th>multivaluedLocalTypeAttribute</th><th>enumerationAttribute</th><th>multivaluedEnumerationAttribute</th></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr></table>\n\n</td><td><table><tr><th>globalTypeAttribute</th><th>multivaluedGlobalTypeAttribute</th><th>localTypeAttribute</th><th>multivaluedLocalTypeAttribute</th><th>enumerationAttribute</th><th>multivaluedEnumerationAttribute</th></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr></table>\n\n</td></tr>\n</table>\n\n');
    expect(itemRepository.getMarkdownRepresentation(dataModel, undefined,
      dataModel, treeConfiguration.getProxyFor('view-kohesemodel').item,
      FormatDefinitionType.DEFAULT, -1, true)).toBe('[KoheseModel](http://localhost:9876/explore;id=KoheseModel)\n\n**ID:**\n\nKoheseModel\n\n**Description:**\n\n\n\n**Tags:**\n\n\n\n**Parent:**\n\nItem\n\n**Created By:**\n\n\n\n**Created On:**\n\n\n\n**Modified By:**\n\n\n\n**Modified On:**\n\n\n\n**Children:**\n\n\n\n**Base:**\n\nItem\n\n**Is Metamodel:**\n\ntrue\n\n**Is Internal:**\n\n\n\n**ID Injection:**\n\nfalse\n\n**Invert Item Order:**\n\nfalse\n\n**Properties:**\n\n\n\n**Validations:**\n\n\n\n**Relations:**\n\n\n\n**ACLs:**\n\n\n\n**Methods:**\n\n\n\n**Class Local Types:**\n\n\n\n**Class Parent Types:**\n\n* Item\n\n**Class Properties:**\n\n\n\n**Property Order:**\n\n* kind\n* status\n* id\n* name\n* tags\n* description\n* parentId\n* createdBy\n* createdOn\n* modifiedBy\n* modifiedOn\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* itemIds\n* children\n* base\n* isMetaModel\n* isInternal\n* idInjection\n* invertItemOrder\n* properties\n* validations\n* relations\n* acls\n* methods\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n* localTypes\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**Property Storage Order:**\n\n* kind\n* status\n* id\n* name\n* tags\n* description\n* parentId\n* createdBy\n* createdOn\n* modifiedBy\n* modifiedOn\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* itemIds\n* children\n* base\n* isMetaModel\n* isInternal\n* idInjection\n* invertItemOrder\n* properties\n* validations\n* relations\n* acls\n* methods\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n* localTypes\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**Required Properties:**\n\n* name\n* base\n* idInjection\n* properties\n* validations\n* relations\n* acls\n* methods\n* localTypes\n\n**Derived Properties:**\n\n* kind\n* status\n* loadPending\n* hasValidationError\n* $dirtyFields\n* __deletedProperty\n* children\n* classLocalTypes\n* classParentTypes\n* classProperties\n* propertyOrder\n* propertyStorageOrder\n* requiredProperties\n* derivedProperties\n* calculatedProperties\n* stateProperties\n* relationProperties\n* idProperties\n\n**Calculated Properties:**\n\n\n\n**State Properties:**\n\n\n\n**Relation Properties:**\n\n* children\n* globalTypeAttribute\n* multivaluedGlobalTypeAttribute\n* localTypeAttribute\n* multivaluedLocalTypeAttribute\n* enumerationAttribute\n* multivaluedEnumerationAttribute\n\n**ID Properties:**\n\n* id\n\n**Local Types:**\n\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n**Global Type Attribute:**\n\nKoheseModel\n\n**Multivalued Global Type Attribute:**\n\n* KoheseModel\n* KoheseModel\n\n**Local Type Attribute:**\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Multivalued Local Type Attribute:**\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n**Enumeration Attribute:**\n\nEnumeration Value 1\n\n**Multivalued Enumeration Attribute:**\n\nEnumeration Value 1\n\nEnumeration Value 2\n\n\n\n<table><tr><th>Multivalued Global Type Attribute Table</th><th>Multivalued Local Type Attribute Table</th></tr><tr style="vertical-align: top;"><td><table><tr><th>globalTypeAttribute</th><th>multivaluedGlobalTypeAttribute</th><th>localTypeAttribute</th><th>multivaluedLocalTypeAttribute</th><th>enumerationAttribute</th><th>multivaluedEnumerationAttribute</th></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr></table>\n\n</td><td><table><tr><th>globalTypeAttribute</th><th>multivaluedGlobalTypeAttribute</th><th>localTypeAttribute</th><th>multivaluedLocalTypeAttribute</th><th>enumerationAttribute</th><th>multivaluedEnumerationAttribute</th></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr><tr style="vertical-align: top;"><td>KoheseModel</td><td><ul><li>KoheseModel</li><li>KoheseModel</li></ul></td><td>Global Type Attribute: [object Object]</td><td><ul><li>Global Type Attribute: [object Object]</li><li>Global Type Attribute: [object Object]</li></ul></td><td>Enumeration Value 1</td><td><ul><li>Enumeration Value 1</li><li>Enumeration Value 2</li></ul></td></tr></table>\n\n</td></tr>\n</table>\n\n');
  });

  it('produces a string representation of the value of a given attribute of ' +
    'a given object', () => {
    let treeConfiguration: TreeConfiguration = TreeConfiguration.
      getWorkingTree();
    let dataModel: KoheseDataModel = treeConfiguration.getProxyFor(
      'KoheseModel').item;
    expect(itemRepository.getStringRepresentation(dataModel, 'name', undefined,
      undefined, dataModel, treeConfiguration.getProxyFor('view-kohesemodel').
      item, FormatDefinitionType.DEFAULT)).toBe('KoheseModel');
    expect(itemRepository.getStringRepresentation(dataModel, 'parentId', undefined,
      undefined, dataModel, treeConfiguration.getProxyFor('view-kohesemodel').
      item, FormatDefinitionType.DEFAULT)).toBe('Item');
    expect(itemRepository.getStringRepresentation(dataModel, 'modifiedOn', undefined,
      undefined, dataModel, treeConfiguration.getProxyFor('view-kohesemodel').
      item, FormatDefinitionType.DEFAULT)).toBe('undefined');
  });
});
