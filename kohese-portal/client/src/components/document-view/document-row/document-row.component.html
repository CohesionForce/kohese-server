<div>
  <creation-row [referenceProxy]="docInfo.proxy" class="document-row" *ngIf="row.addTop" [relation]="'sibling'" (itemCreated)="insertRow($event, row, 'addTop')"></creation-row>
  <div [ngClass]="{'hovered-row': row.rowState === 'show'}" style="background-color: lightgray;">
    <div style="width: 40px; display: inline-block" [ngClass]="{'hovered-actions' : row.rowState === 'show'}" *ngIf="showActions" class="row-actions">
      <div class="button-group" *ngIf="row.rowState === 'show'">
        <button mat-icon-button class="fa fa-plus side-button" (click)="row.addTop = true" *ngIf="!row.addTop">
          <i class="fa fa-chevron-up"></i>
        </button>
        <button mat-icon-button class="fa fa-plus side-button" (click)="row.addTop = false" *ngIf="row.addTop">
          <i class="fa fa-times"></i>
        </button>
        <button mat-icon-button class="fa fa-clipboard side-button" (click)="showProxyDetails(docInfo.proxy)"></button>
        <button mat-icon-button *ngIf="!row.editable"
          class="fa fa-edit side-button" [disabled]="((docInfo.proxy.item.
          editable === false) || (docInfo.proxy.model.item.
          genericallyWritable === false))" (click)="row.editable = true">
        </button>
        <button mat-icon-button *ngIf="row.editable" class="fa fa-save side-button" (click)="upsertItem(docInfo.proxy, row, docInfo);"></button>
        <button mat-icon-button *ngIf="row.editable" class="fa fa-times
          side-button" (click)="discardChanges()">
        </button>
        <button mat-icon-button class="fa fa-plus side-button" (click)="row.addBottom = true" *ngIf="!row.addBottom">
          <i class="fa fa-chevron-down"></i>
        </button>
        <button mat-icon-button class="fa fa-plus side-button" (click)="row.addBottom = false" *ngIf="row.addBottom">
          <i class="fa fa-times"></i>
        </button>
      </div>
    </div>
    <div class="document-row">
      <ng-container *ngIf="row.editable else notEditable">
        <format-object-editor [type]="docInfo.proxy.model.item"
          [object]="docInfo.proxy.item"
          [formatDefinitionType]="FormatDefinitionType.DOCUMENT">
        </format-object-editor>
      </ng-container>
      <ng-template #notEditable>
        <markdown [data]="itemRepository.getMarkdownRepresentation(docInfo.
          proxy.item, undefined, docInfo.proxy.model.item, itemRepository.
          getTreeConfig().getValue().config.getProxyFor('view-' + docInfo.
          proxy.model.item.name.toLowerCase()).item, FormatDefinitionType.
          DOCUMENT, docInfo.depth, false)">
        </markdown>
      </ng-template>
    </div>
    <!-- <div class="document-row" *ngIf="row.editable" [ngClass]="{'hovered-body': row.rowState === 'show'}">
      <textarea matInput [(ngModel)]="docInfo.proxy.item.name"></textarea>
      <hr/>
      <textarea matInput matTextareaAutosize #description [(ngModel)]="docInfo.proxy.item.description"></textarea>
    </div> -->
  </div>
  <creation-row [referenceProxy]="docInfo.proxy" [relation]="'child'" *ngIf="row.addBottom" class="document-row" (itemCreated)="insertRow($event, row, 'addBottom')"></creation-row>
</div>
