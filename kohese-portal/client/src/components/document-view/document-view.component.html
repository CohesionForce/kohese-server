<div class="panel right-zone" [ngClass]="{'details-doc' : incrementalLoad}">
  <div class="panel-heading">Document View
    <span class="pull-right">({{itemsLoaded}}/{{itemLength}}) </span>
  </div>
  <div class="body-container">
    <div class="panel-body doc-view" #docView>
      <div data-infinite-scroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="50" (scrolled)="onScroll()" [scrollWindow]="false"
        [fromRoot]="true" [immediateCheck]="true" [infiniteScrollContainer]="'.doc-view'">
        <div (mouseenter)="row.rowState = 'show'" #row (mouseleave)="row.rowState = 'hide'" *ngFor="let docInfo of loadedProxies" [ngClass]="{'hovered-row': row.rowState === 'show'}" style="background-color: lightgray;">
          <div style="width: 40px; display: inline-block" [ngClass]="{'hovered-actions' : row.rowState === 'show'}" class="row-actions">
            <div class="button-group" *ngIf="row.rowState === 'show'">
              <button mat-icon-button class="fa fa-angle-double-up" mat-tooltip="Previous Item"></button>
              <button mat-icon-button class="fa fa-plus side-button"> <i class="fa fa-chevron-up"></i></button>
              <button mat-icon-button class="fa fa-search side-button"></button>
              <button mat-icon-button *ngIf="!row.editable" class="fa fa-edit side-button" (click)="row.editable = true"></button>
              <button mat-icon-button *ngIf="row.editable" class="fa fa-save side-button" (click)="upsertItem(docInfo.proxy, row, docInfo);"></button>
              <button mat-icon-button *ngIf="row.editable" class="fa fa-times side-button" (click)="row.editable = false;"></button>
              <button mat-icon-button class="fa fa-plus side-button"><i class="fa fa-chevron-down"></i></button>
              <button mat-icon-button class="fa fa-angle-double-down"></button>
            </div>
          </div>
          <div class="document-row" *ngIf="!row.editable" [ngClass]="{'hovered-body': row.rowState === 'show'}" [innerHTML]="docInfo.rendered">
          </div>
          <div class="document-row" *ngIf="row.editable" [ngClass]="{'hovered-body': row.rowState === 'show'}">
            <textarea matInput [(ngModel)]="docInfo.proxy.item.name"></textarea>
            <hr/>
            <textarea matInput matTextareaAutosize #description [(ngModel)]="docInfo.proxy.item.description" oninput='this.style.height = "";this.style.height = this.scrollHeight + 3 + "px"'></textarea>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
