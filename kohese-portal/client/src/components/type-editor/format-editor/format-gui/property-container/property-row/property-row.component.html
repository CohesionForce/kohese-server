<div class="property-row">
  <div class="selector">
    <mat-form-field style="width: 100%;">
      <mat-select placeholder="Attribute" [(ngModel)]="property.propertyName"
        (selectionChange)="updateKind($event.value)"
        [compareWith]="areSameAttribute">
        <ng-container *ngFor="let kind of Object.keys(attributeNames)">
          <mat-optgroup [label]="kind">
            <ng-container *ngFor="let attributeName of attributeNames[kind]">
              <mat-option [value]="{ kind: kind, attribute: attributeName }">
                {{attributeName}}
              </mat-option>
            </ng-container>
          </mat-optgroup>
        </ng-container>
      </mat-select>
    </mat-form-field>
  </div>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Options
      </mat-panel-title>
      <mat-panel-description>
        Modify the format on this property
      </mat-panel-description>
    </mat-expansion-panel-header>

    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Labels
        </mat-panel-title>
        <mat-panel-description>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <mat-checkbox [(ngModel)]="property.hideLabel">Hide Label</mat-checkbox>
      <br/>
      <label>Custom label : </label><input matInput [(ngModel)]="property.customLabel">
      <br/>
      <label>Orientation : </label>
      <mat-select style="width : 200px;" [(ngModel)]="property.labelOrientation">
          <mat-option [value]="'Top'">Top</mat-option>
          <mat-option [value]="'Left'">Left</mat-option>
      </mat-select>
    </mat-expansion-panel>

    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Content
        </mat-panel-title>
        <mat-panel-description>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <ng-container *ngIf="attribute.relation && Array.isArray(attribute.
        type) && (container.kind === 'list')">
        <mat-checkbox [ngModel]="!!property.tableDefinition"
          (ngModelChange)="$event ? property.tableDefinition = { columns:
          [ 'name', 'createdBy' ], expandedFormat: { column1: [], column2: [],
          column3: [], column4: [] } } : property.tableDefinition = null"
          [disabled]="(property.propertyName.kind !== kind.dataModelProxy.item.
          name)">
          As Table
        </mat-checkbox>
        <br/>
        <ng-container *ngIf="property.tableDefinition">
          <table-editor [tableDefinition]="property.tableDefinition"
            [propertyId]="property.propertyName"
            [attributes]="getAttributes()">
          </table-editor>
          <br/>
        </ng-container>
      </ng-container>
      <mat-checkbox [(ngModel)]="property.hideEmpty">Hide if empty</mat-checkbox>
    </mat-expansion-panel>
  </mat-expansion-panel>
  <button *ngIf="!disableDelete" mat-button class="remove-button" (click)="deleteRow()">Delete Row</button>
</div>
