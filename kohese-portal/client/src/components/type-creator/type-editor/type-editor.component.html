<div class="panel">
    <div *ngIf="!selectedType">
      Please select a type to edit
    </div>
    <div *ngIf="selectedType" id="type-creator">
      <div id="base-editor">
      <h1>
          Type editor :

      <button mat-icon-button (click)="upsertType()">
          <i class="fa fa-save fa-2x"></i>
        </button>
      </h1>
          <br/>
          <label for="name">Name : </label>
          <input mat-input type="text" [(ngModel)]="selectedType.item.name"
                     label="name">
          <br/>
          <mat-form-field>
            <label for="base">Base Class: </label>
            <input type="text" matInput [formControl]="formControl" [matAutocomplete]="base"
              [(ngModel)]="selectedType.item.base">
          </mat-form-field>
          <mat-autocomplete #base="matAutocomplete">
            <mat-option *ngFor="let type of typeList" [value]="type.item.name">
              {{type.item.name}}
            </mat-option>
          </mat-autocomplete>
      </div>

      <h4> Properties : </h4>
      <button mat-button (click)="addProperty()">
        Add Property
      </button>
    <mat-list id="property-list">
       <mat-card *ngFor="let property of selectedType.item.properties | mapKey">
          <mat-card-content>
              <!-- <input mat-input type="text" [(ngModel)]="property"> -->
              {{property}}
              <br/>
              <mat-checkbox [(ngModel)]="selectedType.item.properties[property].required"> Required</mat-checkbox>
              <br/>
              Attribute Type :
              <mat-form-field>
                <mat-select [required]="true" [(ngModel)]="selectedType.item.properties[property].type">
                  <mat-option *ngFor="let type of validPropertyTypes" [value]="type">{{type}}</mat-option>
                </mat-select>
              </mat-form-field>
          </mat-card-content>
          <mat-card-actions>
              <button mat-icon-button (click)="deleteProperty(property)">
                <i class="fa fa-trash">Delete</i>
              </button>
          </mat-card-actions>
       </mat-card>
    </mat-list>
  </div>
</div>
