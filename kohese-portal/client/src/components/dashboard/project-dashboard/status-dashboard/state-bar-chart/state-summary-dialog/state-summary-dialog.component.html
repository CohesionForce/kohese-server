<div style="height: calc(100% - 40px);">
  <div class="title" [ngStyle]="{'background-color' : color}">
    {{kindName}}: {{stateName}}
  </div>
    <ngx-datatable #proxyTable class="material expandable" [rows]="proxies" [columnMode]="'force'" [headerHeight]="50"
      [footerHeight]="50" [rowHeight]="50" style="height: 90%;
      overflow-y: visible;">
      <ngx-datatable-row-detail [rowHeight]="'auto'" #myDetailRow>
        <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
          <div style="padding-left:35px;">
            <mat-card [ngStyle]="{ 'background-color': color }"
              style="color: whitesmoke; margin-bottom: 3px;">
              <mat-card-title style="display: flex; flex-direction: row;">
                <h3>
                  <mat-icon class="{{getViewModel(row).icon}}">
                  </mat-icon>
                  {{row.item.name}}
                </h3>
                <ng-container *ngIf="(editableSet.indexOf(row.item.id) === -1)
                  else editableBlock">
                  <button mat-icon-button matTooltip="Edit this Item"
                    class="flex-right-align" (click)="editableSet.push(row.
                    item.id)">
                    <mat-icon class="fa fa-edit"></mat-icon>
                  </button>
                </ng-container>
                <ng-template #editableBlock>
                  <button mat-icon-button matTooltip="Save this Item"
                    class="flex-right-align" (click)="save(row)">
                    <mat-icon class="fa fa-save"></mat-icon>
                  </button>
                  <button mat-icon-button matTooltip="Discard unsaved changes
                    to this Item" (click)="discardChanges(row)">
                    <mat-icon class="fa fa-times"></mat-icon>
                  </button>
                </ng-template>
                <button mat-icon-button matTooltip="Display Item information"
                  (click)="displayInformation(row)">
                  <mat-icon class="fa fa-search"></mat-icon>
                </button>
                <button mat-icon-button matTooltip="Navigate to this Item"
                  (click)="navigate(row)">
                  <mat-icon class="fa fa-arrow-right"></mat-icon>
                </button>
              </mat-card-title>
              <mat-card-content style="background-color: white; color: black;">
                <format-object-editor [type]="row.model.item" [object]="row.
                  item" [formatDefinitionType]="FormatDefinitionType.CARD"
                  [disabled]="(editableSet.indexOf(row.item.id) === -1)">
                </format-object-editor>
              </mat-card-content>
            </mat-card>
          </div>
        </ng-template>
      </ngx-datatable-row-detail>
      <!-- Column Templates -->
      <ngx-datatable-column [width]="50" [resizeable]="true" [sortable]="true" [draggable]="false" [canAutoResize]="false">
        <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
          <a href="javascript:void(0)" class="selector fa" [class.fa-chevron-right]="!expanded" [class.fa-chevron-down]="expanded"
            title="Expand/Collapse Row" (click)="toggleExpandRow(row)">
          </a>
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Name" width="300" style="border: 1px solid black">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template >
          {{row.item.name}}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Last Modified" width="300" style="border: 1px solid black">
          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template >
            {{row.item.modifiedOn | date : 'long'}}
          </ng-template>
        </ngx-datatable-column>
    </ngx-datatable>
</div>
<mat-dialog-actions style="height: 40px; display: flex; flex-direction: row;">
  <button mat-button matTooltip="Close this window" class="flex-right-align"
    [mat-dialog-close]="">
    Close
  </button>
</mat-dialog-actions>
