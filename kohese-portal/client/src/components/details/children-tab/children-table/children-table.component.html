<mat-table *ngIf="tableStream" #childTable [dataSource]="tableStream">
  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
    <mat-cell *matCellDef="let child"> {{child.item.name}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="kind">
    <mat-header-cell *matHeaderCellDef> Kind </mat-header-cell>
    <mat-cell *matCellDef="let child">
      {{child.kind}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="assignedTo">
    <mat-header-cell *matHeaderCellDef> Assigned To </mat-header-cell>
    <mat-cell *matCellDef="let child"> {{child.item.assignedTo}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="state">
    <mat-header-cell *matHeaderCellDef> State </mat-header-cell>
    <mat-cell *matCellDef="let child"> {{child.state}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="description">
    <mat-header-cell *matHeaderCellDef> Description </mat-header-cell>
    <mat-cell *matCellDef="let child"> {{child.item.description | truncate : 30}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="childrenCount">
    <mat-header-cell *matHeaderCellDef> Children(#) </mat-header-cell>
    <mat-cell *matCellDef="let child"> {{child.children.length}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="Nav">
    <mat-header-cell *matHeaderCellDef></mat-header-cell>
    <mat-cell *matCellDef="let child" style="display: flex; justify-content: flex-end;">
      <div class="hidden-buttons"> <!-- div and class for scss styling -->
        <button mat-icon-button matTooltip="Display Item Information" (click)="displayInformation(child)">
          <mat-icon class="fa fa-clone"></mat-icon>
        </button>
        <button mat-icon-button matTooltip="Other Options" [matMenuTriggerFor]="menu"
          (click)="$event.stopPropagation();">
          <mat-icon class="fa fa-bars"></mat-icon>
        </button>
        <mat-menu #menu="matMenu" [overlapTrigger]="false">
          <button mat-menu-item (click)="navigationService.navigate('Explore', { id: child.item.id })">
            <mat-icon class="fa fa-arrow-right"></mat-icon>
            Navigate in Explorer
          </button>
          <button mat-menu-item (click)="navigationService.addTab('Explore', { id: child.item.id })">
            <mat-icon class="fa fa-external-link"></mat-icon>
            Navigate in New Tab
          </button>
        </mat-menu>
      </div>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="rowDef"></mat-header-row>
  <mat-row *matRowDef="let proxy; columns: rowDef" draggable="true"
    (dragstart)="$event.dataTransfer.setData('id', proxy.item.id)" (dragover)="$event.preventDefault()"
    (drop)="whenDropOccurs(proxy, $event)">
  </mat-row>
</mat-table>
