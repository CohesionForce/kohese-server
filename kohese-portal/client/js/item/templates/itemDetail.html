<div class="panel panel-default">
	<div class="panel-heading">Item Information
  </div>
	<!-- /.panel-heading -->
	<div class="panel-body">
		<!-- Nav tabs -->
		<tabset>
			<tab id="defaultTab" active="defaultTab.active">
			  <tab-heading>Details <span ng-show="itemForm.$dirty">(*)</span></tab-heading>
              <form name="itemForm" class="form-horizontal">
			  <div>
				<div style="width: 50%; float: left">
					<span class="control-group"
						ng-class="{error: itemForm.id.$invalid}">
						<label class="control-label" for="Id">Id</label>
						<div class="controls">
							<input style="width: 90%;" type="text" ng-model="editedItem.id"
								id="Id" ng-disabled="true" />
						</div>
					</span>
				</div>
				<div style="width: 50%; float: right">
					<span class="control-group"
						ng-class="{error: itemForm.parentId.$invalid}"> <label
						class="control-label" for="ParentId"
						ng-click="editItem({id:editedItem.parentId})">Parent Id</label>
						<div class="controls">
							<input style="width: 90%;" type="text"
								ng-model="editedItem.parentId" id="Parent" ng-disabled="!enableEdit"/>
						</div>
					</span>
				</div>
			</div>
			<div class="control-group"
						ng-class="{error: itemForm.title.$invalid}">
						<label class="control-label" for="Title">Title</label>
						<div class="controls">
							<input type="text" ng-model="editedItem.title" id="Title" ng-disabled="!enableEdit" style="width:100%"/>
						</div>
					</div>
					<div class="control-group"
						ng-class="{error: itemForm.description.$invalid}">
						<label class="control-label" for="Description">Description</label>
						<div class="controls">
							<textarea style="width:100%; max-width:100%; height:90px;" type="text"
								ng-model="editedItem.description" ng-disabled="!enableEdit" id="Description" ></textarea>
						</div>
					</div>
					<div class="form-actions">
						<button ng-click="enableEdit=true" ng-disabled="enableEdit" class="btn btn-primary">
							Edit</button>
						<button ng-click="upsertItem()" ng-disabled="!enableEdit || itemForm.$pristine" class="btn btn-primary">
							Update</button>
						<button ng-click="enableEdit=false; cancel()" ng-disabled="!enableEdit" class="btn btn-primary">
							Cancel</button>
					</div>
				</form>
			</tab>
			<tab heading="Children ({{itemProxy.children.length}})">
				<div ng-show="isEdit">
					<ng-include src="'js/item/templates/item.html'" ></ng-include>
				</div>
			</tab>
			<tab heading="Relations">
				<h4>Relations Tab</h4>
				<p><b>This tab is under construction.</b></p>
			</tab>
			<tab heading="Analysis">
		        <span class="pull-right">
					<input class="input-sm" type="text" ng-model="analysisFilterString"
							placeholder="Filter" style="margin: 5px" />
				</span>

				<h4>Analysis Summary</h4>
                <input type="checkbox" ng-model="showChunksInSummary" ng-init="showChunksInSummary=true" name="showChunksInSummaryInput" style="margin: 5px"/> Show Chunks in Summary
                <input type="checkbox" ng-model="showTokensInSummary" ng-init="showTokensInSummary=false" name="showTokensInSummaryInput" style="margin: 5px"/> Show Tokens in Summary
				<table
					class="table tree-grid table-striped table-condensed table-hover">
					<thead>
						<th><a href="" ng-click="itemSortField = 'Text'">Text</a></th>
						<th><a href="" ng-click="itemSortField = 'Type'">Type</a></th>
						<th><a href="" ng-click="itemSortField = 'Count'">Count</a></th>
					</thead>
					<tbody>
						<tr class="tree-grid-row" id="Chunk:{{summary.text}}"
						    ng-hide="((summary.displayType == 'Chunk') && !showChunksInSummary) || ((summary.displayType == 'Token') && !showTokensInSummary)"  
							ng-repeat="summary in itemProxy.analysis.extendedSummaryList | filter:{text:analysisFilterString} | orderBy:['-count','text']">
						    <td ng-click="$parent.analysisFilterString = summary.text" ng-bind-html="summary.text | highlight:analysisFilterString"></td>
						    <td>{{summary.displayType}}</td>
						    <td>{{summary.count}}</td>
						</tr>
					</tbody>
				</table>

				<h4>Analysis Details</h4>
                <input type="checkbox" ng-model="showChunksInDetails" ng-init="showChunksInDetails=false" name="showChunksInDetailsInput" style="margin: 5px"/> Show Chunks in Details
                <input type="checkbox" ng-model="showTokensInDetails" ng-init="showTokensInDetails=false" name="showTokensInDetailsInput" style="margin: 5px"/> Show Tokens in Details
				<table
					class="table tree-grid table-striped table-condensed table-hover">
					<thead>
						<th style="width:20%"><a href="" ng-click="itemSortField = 'Type'">Type</a></th>
						<th><a href="" ng-click="itemSortField = 'Text'">Text</a></th>
						<th><a href="" ng-click="itemSortField = 'Begin'">Begin</a></th>
						<th><a href="" ng-click="itemSortField = 'End'">End</a></th>
					</thead>
					<tbody>
						<tr class="level-{{listItem.displayLevel}}" ng-hide="((listItem.displayLevel == 2) && !showChunksInDetails) || ((listItem.displayLevel == 3) && !showTokensInDetails)" class="tree-grid-row" id="{{listItem.displayId}}" 
							ng-repeat="listItem in itemProxy.analysis.extendedList | filter:{text:analysisFilterString}">
						    <td class="indented">{{listItem.displayType}}</td>
						    <td ng-bind-html="listItem.text | highlight:analysisFilterString"></td>
						    <td>{{listItem.begin}}</td>
						    <td>{{listItem.end}}</td>
						</tr>
					</tbody>
				</table>				
		</tab>
			<tab heading="History">
				<h4>History Tab</h4>
				<p><b>This tab is under construction.</b></p>
			</tab>
			<tab heading="Journal">
				<h4>Journal Tab</h4>
				<p><b>This tab is under construction.</b></p>
			</tab>
		</tabset>
	</div>
	<!-- /.panel-body -->
</div>
<!-- /.panel -->






