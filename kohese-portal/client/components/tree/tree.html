<div style="height:inherit">
	<div id="top-action-bar">
		<button ng-click="treeCtrl.expandAll()" class="btn btn-default btn-sm"
			style="margin: 5px">Expand All</button>
		<button ng-click="treeCtrl.expandFiltered()"
			class="btn btn-default btn-sm" style="margin: 5px">Expand
			Filtered</button>
		<button ng-click="treeCtrl.collapseAll()"
			class="btn btn-default btn-sm" style="margin: 5px">Collapse
			All</button>
		<button class="btn btn-default btn-sm" ng-click="treeCtrl.upLevel()"
			ng-disabled="treeCtrl.isRootDefault">Up Level</button>
		<button class="btn btn-default btn-sm" ng-click="treeCtrl.resetRoot()"
			ng-disabled="treeCtrl.isRootDefault">Reset Root</button>
		<i ng-click="treeCtrl.syncLocation()"
			 ng-class="{ 'btn-green': treeCtrl.locationSynced}"
			 class="btn btn-default btn-sm fa fa-exchange"> 
		</i> 
    	<span>Showing
      		{{treeCtrl.getItemMatchedCount()}} of
      		{{treeCtrl.treeRoot.descendantCount}}
    	</span>
    
		<div>
			<!-- Start View Control -->
			<span class="control-group"> 
				<label class="control-label" for="View"> View </label>
				<span
					class="controls"> 
					<select id="View" 
							ng-model="treeCtrl.viewType"
							ng-change="treeCtrl.onViewTypeChanged()">
							<option></option>
							<option ng-repeat="kind in treeCtrl.viewList">{{kind}}</option>
					</select> 
				</span>
			</span>
			<!-- Start View Forking -->
			<span ng-switch on="treeCtrl.viewType">
				<!-- Start Default Toolbar -->
				<span ng-switch-when="Default"> 
					<span class="control-group"> 
						<!-- Kind Selection -->
						<label class="control-label" for="Kind"> Kind </label> 
						<span class="controls"> 
							<select id="Kind" ng-model="treeCtrl.filter.kind">
								<option></option>
								<option ng-repeat="kind in treeCtrl.kindList">{{kind}}</option>
							</select>
						</span>
					</span>
					<!-- Version Control Filtering -->
					<span class="control-group"> 
						<label class="control-label" for="Modified"> Modified </label> 
						<input type="checkbox" ng-model="treeCtrl.filter.status" />
					</span>
					<span class="control-group"> 
						<label class="control-label" for="Dirty"> Dirty </label> 
						<input type="checkbox" ng-model="treeCtrl.filter.dirty" />
					</span>
					<!-- End Version Control Filtering -->
					<!-- String Filtering -->
					<input class="input-sm" type="text" ng-model="treeCtrl.filter.text"
						ng-style="treeCtrl.filter.invalidRegex && {'background-color':'pink'}"
						placeholder="Filter" style="margin: 5px" />
					<!-- Action Filtering -->
					<div ng-if="treeCtrl.filter.kind === 'Action'" class="control-group"> 
						<label class="control-label" for="ActionState"> State </label> 
						<span class="controls">
								<select id="actionState" ng-model="treeCtrl.filter.actionState">
								<option></option>
								<option ng-repeat="state in treeCtrl.actionStates">{{state.item.name}}</option>
							</select>
						</span> 
						<span ng-if="treeCtrl.filter.kind === 'Action'" class="control-group">
							<label class="control-label" for="Assignee"> Assignee </label> 
							<span class="controls"> 
								<select id="actionAssignee" ng-model="treeCtrl.filter.actionAssignee">
									<option></option>
									<option ng-repeat="user in treeCtrl.userList">{{user.item.name}}</option>
								</select>
							</span>
						</span> 
					</div> <!-- End Action Filtering -->
				</span>	<!-- End Default Controls -->	
				<!-- Start Version Control View -->
				<span ng-switch-when="Version Control">
					<button class="btn btn-default"
							ng-click="treeCtrl.stageItems()"
							ng-disabled="treeCtrl.selectedVersionControlNodes.size === 0">Stage Items</button>
				</span>		
				<!-- Start Placeholder View -->
				<span ng-switch-default>
					{{treeCtrl.viewType}} - Not Implemented	
				</span>		
			</span> <!-- End Switch on View Type -->
		</div>
	</div>
	<!-- Begin Knowledge Tree -->
	<div class="knowledge-tree-panel" style="overflow:hidden">
		<div id="theKT" class="knowledge-tree" style="overflow:hidden">
			<div class="kt-head">
				<div class="kth-cell kti-name">Name</div>
				<div class="kth-cell pull-right">
					<i class="glyphicon glyphicon-plus pull-right"
						ui-sref="kohese.explore.create()"
						ng-click="treeCtrl.updateTab('create')"></i>
				</div>
			</div>
			<div class="kt-body" style="overflow:auto; height: 100%">
				<tree-row tree-ctrl="treeCtrl"
					proxy-collection="treeCtrl.treeRoot.children"></tree-row>
			</div>
		</div>
	</div> <!-- End Knowledge Tree -->
</div>