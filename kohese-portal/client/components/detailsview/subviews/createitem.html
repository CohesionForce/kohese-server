<div class="panel panel-default">
    <div class="panel-heading">Create Item
        <button ng-if="detailsCtrl.tab.type === 'singleview'" class="pull-right"
                ui-sref="kohese.explore({id:detailsCtrl.itemProxy.item.id})"
                ng-click="detailsCtrl.toggleView()">
            Dual Screen
        </button>
        <button ng-if="detailsCtrl.tab.type === 'dualview'" class="pull-right"
                ui-sref="kohese.investigate({id:detailsCtrl.itemProxy.item.id})"
                ng-click="detailsCtrl.toggleView()">
            Full screen
        </button>
    </div>
    <tabset>
        <tab>
            <tab-heading>Overview</tab-heading>

            <div class="panel-body">
                <ng-include src="'components/common/templates/itemform.html'"></ng-include>
                <div class="form-actions">
                    <button ng-click="detailsCtrl.enableEdit=true" ng-disabled="detailsCtrl.enableEdit"
                            class="btn btn-primary">
                        Edit
                    </button>
                    <button ng-click="detailsCtrl.upsertItem()"
                            ng-disabled="!detailsCtrl.enableEdit || detailsCtrl.itemForm.$pristine
                && detailsCtrl.actionForm.$pristine && detailsCtrl.decisionForm.$pristine" class="btn btn-primary">
                        Update
                    </button>
                    <button ng-click="detailsCtrl.enableEdit=false; detailsCtrl.cancel()"
                            ng-disabled="!detailsCtrl.enableEdit"
                            class="btn btn-primary">
                        Cancel
                    </button>
                </div>
            </div>
        </tab>
        </tab>
        <tab ng-if="detailsCtrl.itemProxy.kind === 'Observation'">
            <tab-heading>Observation</tab-heading>
            <ng-include src="'components/common/templates/observation-form.html'"></ng-include>
        </tab>
        <tab ng-if="detailsCtrl.itemProxy.kind === 'Issue'">
            <tab-heading>Issue</tab-heading>
            <ng-include src="'components/common/templates/issue-form.html'"></ng-include>
        </tab>
        <tab ng-if="detailsCtrl.itemProxy.kind === 'Action' || detailsCtrl.itemProxy.kind === 'Decision'"
             class="decision-tab">
            <tab-heading>Decision</tab-heading>
            <ng-include src="'components/common/templates/decision-form.html'"></ng-include>

        </tab>
        <tab ng-if="detailsCtrl.itemProxy.kind === 'Action'">
            <tab-heading>Action</tab-heading>
            <ng-include src="'components/common/templates/action-form.html'"></ng-include>
        </tab>
    </tabset>
</div>

</div>