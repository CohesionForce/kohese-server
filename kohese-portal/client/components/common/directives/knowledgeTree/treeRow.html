<div class="kt-collection" ng-repeat="itemProxy in proxyCollection"
     ng-class="{'kt-hidden' : itemProxy.item.parentId && treeCtrl.collapsed[itemProxy.item.parentId]}">
	<div id="{{itemProxy.item.id}}" class="kt-item" 
	     ng-init="lazyIdx=treeCtrl.allocateLazyItemIdx()"
		 ng-class="{'kti-filtered': !treeCtrl.matchesFilter(itemProxy) && !treeCtrl.childMatchesFilter(itemProxy),
                   'kti-filterMatched': treeCtrl.matchesFilter(itemProxy)}">
		<div class="kti-name" ng-style="{'font-weight': 'bold'}">
			<a style=""> <i
				ng-click="treeCtrl.collapsed[itemProxy.item.id] = !treeCtrl.collapsed[itemProxy.item.id]"
				ng-init="treeCtrl.collapsed[itemProxy.item.id]=false"
				class="kt-icon"
				ng-class="{'glyphicon fa icon-minus glyphicon-minus fa-minus': (itemProxy.children.length > 0) && !treeCtrl.collapsed[itemProxy.item.id], 
                           'glyphicon fa icon-plus glyphicon-plus fa-plus': (itemProxy.children.length > 0) && treeCtrl.collapsed[itemProxy.item.id],
                           'glyphicon glyphicon-list-alt': !(itemProxy.children.length > 0),
                           'glyphicon glyphicon-th-list': (itemProxy.children.length > 0)}" >
			</i>
			</a> <span ui-sref="kohese.explore.edit({id:itemProxy.item.id})"
				class="kt-label"
				ng-bind-html="(itemProxy.item.name | highlight:treeCtrl.filterString)"
				ng-click="treeCtrl.updateTab('edit', itemProxy.item.id)"> </span> <span
				ng-if="itemProxy.item.tags">{{itemProxy.item.tags}}</span>
		</div>
		<div class="kti-description"
			ng-class="{'trim-info': !showDescription, 'trim-info-visible': showDescription}"
			ng-dblclick="showDescription=!showDescription"
			ng-init="showDescription=false"
			ng-bind-html="itemProxy.item.description | highlight:treeCtrl.filterString">
		</div>
		<div class="kti-cell pull-right">
			<i class="glyphicon glyphicon-remove  pull-right"
				ng-click="treeCtrl.removeItem(itemProxy.item)"> </i>
		</div>
	</div>
	<div ng-if="itemProxy.children && lazyIdx<treeCtrl.currentLazyLimit">
		<tree-row tree-ctrl="treeCtrl" proxy-collection="itemProxy.children"></tree-row>
	</div>
</div>
